拦截器

在Web请求处理的过程中，拦截器是服务器端进行数据处理的最后一道屏障，可以将所有用户请求的信息在拦截器中进行验证。在SpringBoot中可以继续使用SpringMVC所提供的拦截器进行处理。



1．【mldnboot-web项目】定义一个拦截器处理类。[插图]在拦截器中最需要用户处理的方法是preHandle()，此方法会在控制层的方法执行之前进行调用。







2．【mldnboot-web项目】如果要拦截器生效，则还需要定义一个拦截器的配置类。[插图]本程序将拦截器配置到了Web项目中，配置的访问路径为全部请求路径，这样不管用户如何访问都会先执行拦截器中的处理方法。



```java
@Configuration
public class MyWebApplicationConfig extends WebMvcConfigurerAdapter {	// 定义MVC配置
	@Override
	public void addInterceptors(InterceptorRegistry registry) {	// 进行拦截器的注册处理操作
		//匹配路径
		registry.addInterceptor(new MyInterceptor())
				.addPathPatterns("/upload_pre");	// 匹配路径
		//addPathPatterns("/*.html")
		//配置的访问路径为全部请求路径，这样不管用户如何访问都会先执行拦截器中的处理方法。
		//addPathPatterns("/**")
		super.addInterceptors(registry);
	}
}

```

